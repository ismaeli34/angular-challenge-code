@if (results.length > 0) {
  <!-- Container for regular result cards (grid layout) -->
  <div class="results-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-4">
    @for (result of results; track result) {
      @if (result.type) {
        <mat-card class="result-card shadow-md rounded-xl overflow-hidden transition-transform transform hover:scale-105">
          @if (result.url_photo) {
            <img [src]="result.url_photo_thumbnail" class="w-full h-60 object-cover" alt="Aircraft photo" />
          }

          <mat-card-header class="bg-gray-100">
            <div mat-card-avatar class="bg-blue-200 rounded-full w-10 h-10 flex items-center justify-center text-white font-bold">
              ✈️
            </div>
            <mat-card-title class="text-sm font-semibold">
              {{ result.flightroute?.callsign || 'Aircraft ' }}
            </mat-card-title>
            <mat-card-subtitle class="text-sm text-gray-600">
              {{ result.manufacturer || result.flightroute?.airline?.name || 'Unknown' }}
            </mat-card-subtitle>
          </mat-card-header>

          <mat-card-content class="text-sm text-gray-800 space-y-1 p-2">
            <p><strong>Registration:</strong> {{ result.registration || 'N/A' }}</p>
            <p><strong>Mode S:</strong> {{ result.mode_s || 'N/A' }}</p>
            <p><strong>Country:</strong> {{ result.registered_owner_country_name || 'N/A' }}</p>
            <p><strong>Owner:</strong> {{ result.registered_owner || 'N/A' }}</p>
          </mat-card-content>
        </mat-card>
      }
    }
  </div>


  @for (result of results; track result) {
    @if (!result.type && result.flightroute) {
      <div class="w-full px-4 mb-8">
        <div class="max-w-6xl mx-auto">
          <mat-card class="flight-route-card shadow-lg rounded-xl overflow-hidden">
            <mat-card-content class="p-6">
              <h2 class="text-2xl font-bold text-blue-700 mb-6">✈️ Flight Route Details</h2>
              <!-- Combined container for all flight information -->
              <div class="row">
                <!-- Flight Information -->
                <div class="col-md-4  ">
                  <div class="bg-white border rounded-lg p-4 shadow-sm h-full">
                    <h3 >
                      Flight Details
                    </h3>
                    <div class="space-y-2">
                      <p><strong class="text-gray-700">Callsign:</strong> {{ result.flightroute.callsign || 'N/A' }}</p>
                      <p><strong class="text-gray-700">ICAO:</strong> {{ result.flightroute.callsign_icao || 'N/A' }}</p>
                      <p><strong class="text-gray-700">IATA:</strong> {{ result.flightroute.callsign_iata || 'N/A' }}</p>
                      <p><strong class="text-gray-700">Name:</strong> {{ result.flightroute.airline?.name || 'N/A' }}</p>
<!--                      <p><strong class="text-gray-700">ICAO:</strong> {{ result.flightroute.airline?.icao || 'N/A' }}</p>-->
                      <p><strong class="text-gray-700">IATA:</strong> {{ result.flightroute.airline?.iata || 'N/A' }}</p>
                      <p><strong class="text-gray-700">Country:</strong> {{ result.flightroute.airline?.country || 'N/A' }}</p>

                    </div>
                  </div>

                </div>
                <!-- Origin Airport -->
                <div class="col-md-4">
                  <div class="bg-white border rounded-lg p-4 shadow-sm h-full">
                    <h3 >
                      Origin Airport
                    </h3>
                    <div class="space-y-2">
                      <p><strong class="text-gray-700">Name:</strong> {{ result.flightroute.origin?.name || 'Unknown' }}</p>
                      <p><strong class="text-gray-700">IATA:</strong> {{ result.flightroute.origin?.iata_code || '-' }}</p>
                      <p><strong class="text-gray-700">ICAO:</strong> {{ result.flightroute.origin?.icao_code || '-' }}</p>
                      <p><strong class="text-gray-700">Country:</strong> {{ result.flightroute.origin?.country_name || 'Unknown' }}</p>
                      <p><strong class="text-gray-700">City:</strong> {{ result.flightroute.origin?.municipality || 'N/A' }}</p>
                      <p><strong class="text-gray-700">Elevation:</strong> {{ result.flightroute.origin?.elevation || 'N/A' }} ft</p>
<!--                      <p><strong class="text-gray-700">Coordinates:</strong>-->
<!--                        {{ result.flightroute.origin?.latitude || 'N/A' }},-->
<!--                        {{ result.flightroute.origin?.longitude || 'N/A' }}-->
<!--                      </p>-->
                    </div>
                  </div>


                </div>
                <!-- Destination Airport -->
                <div class="col-md-4">
                  <div class="bg-white border rounded-lg p-4 shadow-sm h-full">
                    <h3 >
                      Destination Airport
                    </h3>
                    <div class="space-y-2">
                      <p><strong class="text-gray-700">Name:</strong> {{ result.flightroute.destination?.name || 'Unknown' }}</p>
                      <p><strong class="text-gray-700">IATA:</strong> {{ result.flightroute.destination?.iata_code || '-' }}</p>
                      <p><strong class="text-gray-700">ICAO:</strong> {{ result.flightroute.destination?.icao_code || '-' }}</p>
                      <p><strong class="text-gray-700">Country:</strong> {{ result.flightroute.destination?.country_name || 'Unknown' }}</p>
                      <p><strong class="text-gray-700">City:</strong> {{ result.flightroute.destination?.municipality || 'N/A' }}</p>
                      <p><strong class="text-gray-700">Elevation:</strong> {{ result.flightroute.destination?.elevation || 'N/A' }} ft</p>
<!--                      <p><strong class="text-gray-700">Coordinates:</strong>-->
<!--                        {{ result.flightroute.destination?.latitude || 'N/A' }},-->
<!--                        {{ result.flightroute.destination?.longitude || 'N/A' }}-->
<!--                      </p>-->
                    </div>
                  </div>


                </div>

              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
    }
  }
}
